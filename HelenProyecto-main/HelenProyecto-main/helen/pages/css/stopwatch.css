/* =======================
   HELEN – Cronómetro (UI)
   Basado en tokens de globals.css
   ======================= */

/* --------- Tokens locales (complemento) --------- */
:root{
  --ok-a: #2be67b;      /* verde base (coherente con botones HELEN) */
  --ok-b: #6ef3a7;
  --danger-a: #ff4d4f;  /* rojo para 'corriendo' */
  --danger-b: #ff767a;

  --card-radius-lg: 26px;
  --card-radius-md: 18px;
  --tile-shadow: 0 22px 44px rgba(0,0,0,.34);
  --card-shadow: 0 26px 60px rgba(0,0,0,.38);
  --hover-border: rgba(190,210,230,.22);
}

/* --------- Layout general --------- */
body{
  /* el fondo y halos vienen de globals.css */
  min-height: 100svh;
}

.back-button{
  width: 42px;
  height: 42px;
  border-radius: var(--r-sm, 12px);
  border: 1px solid var(--card-border, rgba(160,190,220,.14));
  background: rgba(255,255,255,.06);
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: transform .16s ease, background .2s ease, border-color .2s ease;
}
.back-button i{ font-size: 18px; opacity: .9; color: #fff; }
.back-button:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.1);
  border-color: rgba(190,210,230,.22);
}
.container.stopwatch-layout{
  position: relative;
  z-index: 1;
  width: 100%;
  max-width: 1300px;
  margin: 0 auto;
  padding: 28px;
}


.container.stopwatch-layout h1{
  margin: 0;
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -.3px;
  color: var(--fg-strong, #fff);
}
/* Top bar (flecha + título) */
.topbar{
  display: flex; align-items: center; gap: 14px;
  margin: 6px 0 18px;
}
.back-btn{
  border: 1px solid var(--card-border);
  background: linear-gradient(180deg, var(--card-top), var(--card-bot));
  color: var(--fg); width: 42px; height: 42px; border-radius: 12px;
  display: grid; place-items: center; cursor: pointer;
  transition: transform .16s ease, border-color .16s ease, box-shadow .16s ease;
  box-shadow: 0 10px 24px rgba(0,0,0,.22);
}
.back-btn i{ font-size: 18px; color:#fff }
.back-btn:hover{ transform: translateY(-1px); border-color: var(--hover-border) }
.page-title{
  margin: 0; font-size: clamp(22px, 3.6vw, 34px);
  font-weight: 300; color:#fff; letter-spacing:.5px;
}

/* Grid principal */
.grid{
  display: grid;
  grid-template-columns: 1fr 520px;
  gap: 28px;
}

/* --------- Tarjeta principal (izquierda) --------- */
.left-panel{ display: grid; grid-auto-rows: min-content; gap: 22px }

.stopwatch-card{
  border-radius: var(--card-radius-lg);
  padding: clamp(22px, 3.4vw, 42px);
  background:
    radial-gradient(120% 120% at 15% -10%, rgba(21,146,255,.12), transparent 50%),
    linear-gradient(180deg, var(--card-top), var(--card-bot));
  border: 1px solid var(--card-border);
  box-shadow: var(--card-shadow);
}

/* Cabecera tiempo */
.current-timer{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap: 18px;
  margin-bottom: clamp(16px, 2.2vw, 28px);
}
.timer-icon{
  width: 84px; height: 84px; border-radius: 22px;
  display: grid; place-items: center;
  background: radial-gradient(60% 60% at 30% 30%, var(--blue-a), var(--blue-b));
  box-shadow: 0 16px 34px rgba(46,107,255,.45);
  color: #ecf6ff; font-size: 36px;
}
.time-container{
  display: flex; flex-direction: column; align-items: flex-start;
}
.timer-display{
  font-size: clamp(44px, 9.8vw, 120px);
  line-height: .9; color: #fff; font-weight: 300; letter-spacing:.8px;
  font-variant-numeric: tabular-nums;
}
.milliseconds{
  margin-top: 4px; font-size: clamp(18px, 2.6vw, 28px);
  color: rgba(255,255,255,.85); letter-spacing: .6px;
  font-variant-numeric: tabular-nums;
}

/* Controles (dos botones) */
.timer-controls.two-cols{
  display: grid; grid-template-columns: repeat(2, 150px);
  gap: clamp(12px, 2.4vw, 20px);
  margin-top: clamp(10px, 2.2vw, 16px);
}
.control-btn{
  height: 72px; border-radius: 18px; border: 0;
  display:flex; flex-direction: column; align-items: center; justify-content: center;
  cursor: pointer; user-select: none;
  box-shadow: 0 16px 34px rgba(0,0,0,.26), inset 0 1px 0 rgba(255,255,255,.06);
  transition: transform .12s ease, filter .16s ease, box-shadow .16s ease;
  color: #0b1422; font-weight: 700;
}
.control-btn i{ font-size: 22px }
.control-btn span{ margin-top: 4px; font-size: 14px }

/* Botón principal: play/pause (verde⇄rojo) */
.start-btn{
  background: linear-gradient(145deg, var(--ok-a), var(--ok-b));
}
.start-btn.stop-btn{
  background: linear-gradient(145deg, var(--danger-a), var(--danger-b));
  color: #fff;
}
.control-btn:hover{ transform: translateY(-2px); filter: brightness(1.03) }
.control-btn:active{ transform: translateY(0); filter: brightness(.98) }
.control-btn:disabled{
  opacity: .8; cursor: not-allowed; filter: grayscale(.1) brightness(.95);
}

/* Slot derecho: Reset / Lap en el mismo lugar */
.secondary-slot{
  position: relative; display: grid;
}
.secondary-slot .control-btn:disabled{ display: none } /* muestra solo el habilitado */

/* --------- Estadísticas (abajo izq.) --------- */
.stats-card{
  border-radius: var(--card-radius-lg);
  padding: 22px 26px;
  background: linear-gradient(180deg, var(--card-top), var(--card-bot));
  border: 1px solid var(--card-border);
  box-shadow: var(--card-shadow);
}
.stats-card.is-hidden{ display: none }
.stats-title{
  margin: 0 0 14px; font-size: 18px; color:#d3d9e3; font-weight:300;
}
.timer-details.stats-grid{
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 18px; font-size: 14px;
}
.timer-details p{
  margin: 0;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  padding: 14px;
  color: var(--fg);
}

/* --------- Panel derecho: Vueltas --------- */
.right-panel{
  border-radius: var(--card-radius-lg);
  padding: 22px 22px 18px;
  background: linear-gradient(180deg, var(--card-top), var(--card-bot));
  border: 1px solid var(--card-border);
  box-shadow: var(--card-shadow);
  display: grid; grid-template-rows: auto 1fr;
}
.laps-section h2{
  margin: 0 0 12px; font-size: 20px; font-weight:300; color:#d3d9e3;
}
.laps-count-badge{ opacity:.7; font-size: .9em }

.laps-container{
  overflow: auto; max-height: calc(100svh - 220px);
  scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.28) transparent;
}
.laps-container::-webkit-scrollbar{ width: 6px }
.laps-container::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.28); border-radius: 8px }

.laps-list{
  display: flex; flex-direction: column; gap: 12px;
}

/* Estructura que genera tu JS: .lap-item, .lap-number, .lap-time, .lap-delta */
.lap-item{
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center; gap: 16px;
  padding: 14px 16px; border-radius: 16px;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.10);
  transition: transform .12s ease, background-color .16s ease, border-color .16s ease;
}
.lap-item:hover{ transform: translateY(-2px); border-color: var(--hover-border) }

.lap-number{
  min-width: 40px; height: 28px; padding:0 10px;
  border-radius: 999px; display:grid; place-items:center;
  background: rgba(15,26,43,.60);
  border: 1px solid var(--card-border);
  color: #cfe2ff; font-weight: 700; font-size: 13px;
}
.lap-time{
  color:#fff; font-variant-numeric: tabular-nums; letter-spacing:.6px; font-size: 16px;
}
.lap-delta{
  font-size: 13px; padding: 6px 10px; border-radius: 999px; font-weight: 700;
  background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12); color:#dfeaff;
}
.lap-delta.faster{
  background: rgba(0,206,206,.16); border-color: rgba(0,206,206,.28); color:#bffeff;
}
.lap-delta.slower{
  background: rgba(255,77,79,.16); border-color: rgba(255,77,79,.32); color:#ffd8da;
}

/* --------- Responsive --------- */
@media (max-width: 1200px){
  .grid{ grid-template-columns: 1fr 460px }
}
@media (max-width: 1020px){
  .grid{ grid-template-columns: 1fr }
  .right-panel{ order: 2 }
}
@media (max-width: 560px){
  .timer-controls.two-cols{ grid-template-columns: 1fr 1fr }
  .control-btn{ height: 64px }
  .timer-details.stats-grid{ grid-template-columns: 1fr; gap: 10px }
}

/* Mantiene todo centrado en pantalla */
body {
  display: flex;
  justify-content: center;
  min-height: 100vh;
  background: var(--bg, #0b1422);
}

/* Contenedor general */
.container.stopwatch-layout {
  display: flex;
  flex-direction: column;
  justify-content: center; /* centra verticalmente */
  width: 100%;
  max-width: 1000px;
  min-height: 100vh;
  margin: 0 auto;
  padding: 20px;
}

/* Alinea el encabezado del cronómetro a la izquierda */
.container.stopwatch-layout header {
  align-self: flex-start; /* lo pega al lado izquierdo */
  margin-bottom: 20px;
}

/* Centra SOLO el bloque del cronómetro */
.stopwatch-main {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
}
