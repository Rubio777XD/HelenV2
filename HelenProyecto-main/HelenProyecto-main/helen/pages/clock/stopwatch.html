<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cronómetro</title>

  <!-- Dependencias usadas por tu JS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"/>
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Estilos -->
  <link rel="stylesheet" href="../css/stopwatch.css"/>
  <link rel="stylesheet" href="../../css/globals.css"/>
</head>
<body>
  <div class="container stopwatch-layout">
    <!-- Barra de título -->
    <div class="topbar">
      <button class="back-button" onclick="window.location.href='../clock/clock.html'">
        <i class="bi bi-arrow-left"></i>
      </button>
      <h1 class="page-title">Cronómetro</h1>
    </div>

    <!-- Grid principal: izquierda cronómetro, derecha vueltas -->
    <div class="grid">
      <!-- IZQUIERDA -->
      <main class="left-panel">
        <!-- Tarjeta principal -->
        <section class="stopwatch-card">
          <!-- (si luego quieres fecha, queda el hook) -->
          <p class="date-section" hidden></p>

          <div class="current-timer">
            <!-- Mantengo el icono que tu JS alterna (stopwatch / stopwatch-fill) -->
            <i class="timer-icon bi bi-stopwatch"></i>

            <div class="time-container">
              <!-- TU JS escribe aquí -->
              <div class="timer-display">00:00:00</div>
              <div class="milliseconds">00</div>
            </div>
          </div>

          <!-- Controles (dos botones) -->
          <div class="timer-controls two-cols">
            <!-- Botón principal: verde cuando pausado / rojo cuando corriendo (tu JS ya añade .stop-btn) -->
            <button class="control-btn start-btn" aria-label="Iniciar">
              <i class="bi bi-play-fill"></i>
              <span>Iniciar</span>
            </button>

            <!-- Slot derecho: Reset (pausado) / Lap (corriendo).
                 Tu JS ya habilita/deshabilita cada uno. Con CSS podemos ocultar el que esté disabled. -->
            <div class="secondary-slot">
              <button class="control-btn reset-btn" disabled aria-label="Reiniciar">
                <i class="bi bi-arrow-counterclockwise"></i>
                <span>Reiniciar</span>
              </button>

              <button class="control-btn lap-btn" disabled aria-label="Vuelta">
                <i class="bi bi-flag-fill"></i>
                <span>Vuelta</span>
              </button>
            </div>
          </div>
        </section>

        <!-- ESTADÍSTICAS (abajo a la izquierda).
             La sección puede empezar oculta con una clase .is-hidden y mostrarla cuando haya vueltas. -->
        <section class="stats-card is-hidden">
          <h3 class="stats-title">Estadísticas</h3>
          <div class="timer-details stats-grid">
            <p class="avg-lap">Promedio: 00:00:00</p>
            <p class="best-lap">Más Rápida: 00:00:00</p>
            <p class="worst-lap">Más Lenta: 00:00:00</p>
            <p class="total-time">Tiempo Total: 00:00:00</p>
            <p class="lap-count">Vueltas: 0</p>
          </div>
        </section>
      </main>

      <!-- DERECHA -->
      <aside class="right-panel">
        <div class="laps-section">
          <h2>Vueltas <span class="laps-count-badge">(0)</span></h2>
          <div class="laps-container">
            <div class="laps-list"><!-- Tu JS inserta items aquí --></div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <!-- Scripts (mismos que ya usas) -->
  <script src="../jsFrontend/stopwatch.js"></script>
  <script src="../../jsSignHandler/SocketIO.js"></script>
  <script src="../../jsSignHandler/eventConnector.js"></script>
  <script src="../../jsSignHandler/actions.js"></script>
  <script src="../../jsSignHandler/loadingScreenLoader.js"></script>
</body>
</html>
